(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92701],{877039:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(667294),o=t(973935),r=t(785893);function s(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const l=new Map;let a=null;const d=e=>{e.forEach((e=>{const i=l.get(e.target);i&&i(e)}))},u=e=>{class i extends n.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",(e=>{const i=e.intersectionRatio>0||e.isIntersecting;this.seen=i,this.seen&&this.props.onVisibilityChanged(!0)})),s(this,"leave",(()=>{const e=this._node;e&&(e=>l.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)})),s(this,"observe",(e=>{try{this._node=o.findDOMNode(this)}catch(n){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:i}=this.props,t=this._node;((e,i="-64px 0px 0px 0px",t)=>{const n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(d,n),l.set(e,t),a.observe(e)})(t,e,(e=>{if(!l.has(t))return;const n=i?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,o=this.props.trackFullVisible?e.intersectionRatio>=1:n,r=this.props.trackFullVisible?0===e.intersectionRatio:!o;!this.seen&&o?this.enter(e):this.seen&&r&&this.leave()}))}))}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{a.unobserve(e),l.delete(e)})(e))}render(){return(0,r.jsx)(e,{...this.props})}}return s(i,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),i}},535258:(e,i,t)=>{t.d(i,{xf:()=>n,Lo:()=>o,Us:()=>r,yc:()=>s,ZZ:()=>l,g5:()=>a,V8:()=>d,oE:()=>u,nW:()=>c,lX:()=>h,P2:()=>p,oX:()=>g,$q:()=>m,KN:()=>x});const n=236,o=2*n/3,r=24,s=2,l=14,a=16,d=e=>e||a,u=900,c=12,h=16,p=24,g=16,m=(e=!1,i=!1)=>e?i?h:c:p,x=(e,i,t,n,o=l)=>{const r=e+o;return`\n@media (min-width: ${i*r}px) and (max-width: ${(t+1)*r-1}px) {\n  ${n}\n}\n`}},321624:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(946753);function o(e,i){const{alt_text:t,auto_alt_text:o}=e;return t?(0,n.nk)(i._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:t}).join(""):o?(0,n.nk)(i._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:o}).join(""):null}},120574:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(517458),o=t(614422),r=t(444488),s=t(965035),l=t(174523),a=t(181307),d=t(883119),u=t(785893);const c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},h={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function p({backgroundColor:e,identifier:i,size:t="sm"}){const n="pine"===e?"#0FA573":"#fff",o="sm"===t?c:h;return(0,u.jsx)(d.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?n:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:i})}function g({pin:e,size:i="sm",allowProductCarousel:t,allowShoppingPriceIndicator:c,shoppingLabelColor:h}){const g=(0,l.ZP)(),m=(0,n.Z)(e),x=(0,a.tc)("web_sp2s");if(m.isGif)return p({identifier:"GIF",size:i});if(m.isStoryPin){const{page_count:t=0}=e.story_pin_data||{};return p({identifier:(0,u.jsxs)(d.kC,{alignItems:"center",justifyContent:"between",children:[(0,u.jsx)(d.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,u.jsx)(d.JO,{accessibilityLabel:x().anyEnabled?g._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"):g._("Story Pin","pin.pinTypeIdentifier.iconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:"story-pin",color:"darkGray",size:"sm"===i?12:16})}),(0,u.jsx)(d.xv,{inline:!0,size:"sm",weight:"bold",children:t.toString()})]}),size:i})}if(m.isVideo){const t=e.videos,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return p({identifier:(0,s.Z)(n),size:i})}if(m.isProduct){if(c){const t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary,n=t&&(t.price||t.max_price);return n?p({identifier:n,size:i}):null}if(h){const t=(0,o.Z)(e)[0];return t?p({identifier:t,backgroundColor:h,size:i}):null}return null}if(t){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&(0,r.Z)(e.images,t.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:o=[],index:s=0}=n;return p({identifier:`${s+1}/${o.length}`,size:i})}if(m.isCarousel){const t=e.carousel_data||{},{carousel_slots:n=[],index:o=0}=t;return p({identifier:`${o+1}/${n.length}`,size:i})}return null}},771400:(e,i,t)=>{t.d(i,{Ml:()=>p,ZP:()=>g});var n=t(294184),o=t.n(n),r=t(329485),s=t(321624);const l={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1};var a=t(883119),d=t(785893);function u({onError:e,onLoad:i,pin:t}){var n,o,r,s;const{title:u="",dominant_color:c,images:h={}}=t,p="number"==typeof(null===(n=h["474x"])||void 0===n?void 0:n.width)&&"number"==typeof h["474x"].height&&h["474x"].width>h["474x"].height?h["736x"]:h["474x"];return(0,d.jsx)(a.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:(0,d.jsx)(a.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:l.storyPinImage}},children:(0,d.jsx)(a.Ee,{alt:u,color:c,naturalHeight:null!==(o=null==p?void 0:p.height)&&void 0!==o?o:1,naturalWidth:null!==(r=null==p?void 0:p.width)&&void 0!==r?r:1,onError:e,onLoad:i,src:null!==(s=null==p?void 0:p.url)&&void 0!==s?s:"",fit:"cover"})})})}var c=t(174523),h=t(946753);const p=120,g=({cropHeight:e,cropWidth:i,fallbackColor:t,highResOnly:n,imageFit:l,lowResOnly:g,mediumResOnly:m,onError:x,onLoad:v,pin:y,saved:f=!1,animateGif:b})=>{var _,w,T;const C=(0,c.ZP)(),{carousel_data:j,description:P="",dominant_color:V,id:E,images:I,title:A}=y,R=(0,h.nk)(C._("This contains an image of: {{ pinTitle }}","web.altText","Alt text input for PinImage by a human"),{pin:A}).join(""),L=(0,s.Z)(y,C)||P.trim().length>0&&P||R;if(j)return(0,d.jsx)(r.Z,{onError:x,onLoad:v,highResOnly:n,lowResOnly:g,pinId:E});let M,O="",S=0,k=0;if(I){var B,H,$;let e=I["236x"];var D,Z,z,W,F;if(n?e=I["736x"]||I.orig||I["474x"]||I["236x"]:m&&(e=I["474x"]||I.orig||I["236x"]),S=null===(B=e)||void 0===B?void 0:B.height,k=null===(H=e)||void 0===H?void 0:H.width,O=null===($=e)||void 0===$?void 0:$.url,g||m||n)M=null!==(D=e)&&void 0!==D&&D.url?`${e.url} 1x`:"";else M=[(null===(Z=I["236x"])||void 0===Z?void 0:Z.url)&&`${I["236x"].url} 1x`,(null===(z=I["474x"])||void 0===z?void 0:z.url)&&`${I["474x"].url} 2x`,(null===(W=I["736x"])||void 0===W?void 0:W.url)&&`${I["736x"].url} 3x`,(null===(F=I.orig)||void 0===F?void 0:F.url)&&`${I.orig.url} 4x`].filter(Boolean).join(", ")}if(b){const e=Math.max(y.embed&&y.embed.width||0,236),i=Math.max(y.embed&&y.embed.height||0,236),t=y.embed?y.embed.src:"";t&&(S=i,k=e,O=t,M="")}return(0,d.jsx)(a.kC,{alignItems:"center",justifyContent:"start",minHeight:p,children:(0,d.jsx)(a.xu,{flex:"grow",children:(0,d.jsx)("div",{className:o()({savedGradient:f}),children:y.story_pin_data_id?(0,d.jsx)(u,{pin:y,onError:x,onLoad:v}):(0,d.jsx)(a.xu,{height:i?e:void 0,width:i||void 0,"data-test-id":"non-story-pin-image",children:(0,d.jsx)(a.Ee,{alt:L,color:"dominant"===t?V:t,fit:l,naturalHeight:null!==(_=S)&&void 0!==_?_:1,naturalWidth:null!==(w=k)&&void 0!==w?w:1,onError:x,onLoad:v,src:null!==(T=O)&&void 0!==T?T:"",srcSet:M})})})})})}},344573:(e,i,t)=>{t.d(i,{Z:()=>V});var n=t(667294),o=t(40142),r=t(877039),s=t(580849),l=t(771400),a=t(174523),d=t(883119),u=t(785893);const c={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},p={overlay:{__style:{backgroundColor:"#000"}}};function g({backgroundImage:e,naturalHeight:i,naturalWidth:t,onRestartVideo:n,pinTitle:o,pin:r}){const s=(0,a.ZP)(),{id:l}=r;return(0,u.jsxs)(d.Ee,{alt:o||s._("pin image","image of a pin","image of a pin"),naturalHeight:i,naturalWidth:t,src:e,children:[(0,u.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),(0,u.jsxs)(d.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${l}`,children:[(0,u.jsx)(d.iP,{rounding:2,children:(0,u.jsxs)(d.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,u.jsx)(d.JO,{accessibilityLabel:s._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:h,size:25}),(0,u.jsx)(d.xu,{margin:1}),(0,u.jsx)(d.xv,{color:"white",lineClamp:1,weight:"bold",children:s._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),(0,u.jsx)(d.xu,{margin:3}),(0,u.jsx)(d.iP,{onTap:n,rounding:2,children:(0,u.jsxs)(d.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,u.jsx)(d.JO,{accessibilityLabel:s._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:c,size:25}),(0,u.jsx)(d.xu,{margin:1}),(0,u.jsx)(d.xv,{color:"white",lineClamp:1,weight:"bold",children:s._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var m=t(727407),x=t(784655);const v=new Map;let y=null;const f=e=>{e.forEach((e=>{const i=v.get(e.target);i&&i(e)}))};function b({onVisibilityChanged:e,inAdsDesktopVideoExperiment:i,trackFullVisible:t,rootMargin:o}){const r=(0,n.useRef)(null);let s=!1;const l=()=>{var i;r.current instanceof HTMLElement&&(i=r.current,v.has(i))&&(s&&(e(!1),s=!1))},a=(0,n.useCallback)((n=>{r.current instanceof HTMLElement&&((e,i="-64px 0px 0px 0px",t)=>{const n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};y=y||new window.IntersectionObserver(f,n),v.set(e,t),y.observe(e)})(r.current,n,(n=>{if(!v.has(r.current))return;const o=i?n.intersectionRatio>=.5:n.intersectionRatio>0||n.isIntersecting,a=t?n.intersectionRatio>=1:o,d=t?0===n.intersectionRatio:!a;!s&&a?(i=>{const t=i.intersectionRatio>0||i.isIntersecting;s=t,s&&e(!0)})(n):s&&d&&l()}))}),[r.current]);return(0,n.useEffect)((()=>(a(o),()=>{var e;r.current instanceof HTMLElement&&(l(),e=r.current,y.unobserve(e),v.delete(e))})),[a]),r}var _=t(32529);const w=new Set(["ConversationView","TodayTabFeed"]);const T=(0,o.connect)(void 0,(e=>({setCurrentVideo:i=>e((0,_.jt)(i))})))((function({inAdsDesktopVideoExperiment:e,isAutoplay:i,cropHeight:t,currentTime:o,lowResOnly:r,highResOnly:s,onLoad:c,onError:h,saved:p,onTimeChange:v,isExperimentalPinRep:y,pin:f,surface:_,playing:T,rootMargin:C,setCurrentVideo:j,viewType:P,viewParameter:V,onVisibilityChanged:E,trackFullVisible:I,inVisibilityChangedHookExperiment:A}){var R,L;const M=(0,a.ZP)(),[O,S]=(0,n.useState)(!1),[k,B]=(0,n.useState)(!0),H=(0,x.jL)(f),$=H&&!f.is_eligible_for_web_closeup,D=y&&H&&f.is_eligible_for_web_closeup&&!w.has(_),Z=$||!y||!H,z=b({onVisibilityChanged:E,inAdsDesktopVideoExperiment:e,trackFullVisible:I,rootMargin:C});let W=!T;e&&(W=k,i&&T&&k&&B(!1));const{url:F}=(null===(R=f.images)||void 0===R?void 0:R["236x"])||{},{id:U,is_promoted:G}=f,N=(0,n.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),j({pinId:U,isPromoted:Boolean(G),currentTime:0}),S(!1)}),[G,U,j]),J=(0,n.useCallback)((()=>{G&&S(D)}),[D,G]);if(!f.videos||null===(L=f.videos.video_list)||void 0===L||!L.V_HLSV4)return null;const{height:q,thumbnail:K,width:X,url:Y}=f.videos.video_list.V_HLSV4||{},Q=f.videos.id,ee=[{type:"video/m3u8",src:Y}];return O&&H?(0,u.jsx)(d.xu,{ref:A?z:null,children:(0,u.jsx)(g,{backgroundImage:null!=F?F:"",naturalHeight:null!=q?q:1,naturalWidth:null!=X?X:1,pin:f,onRestartVideo:N})}):W?(0,u.jsx)(d.xu,{ref:A?z:null,children:(0,u.jsx)(l.ZP,{lowResOnly:r,highResOnly:s,onLoad:c,onError:h,pin:f,saved:p})}):(0,u.jsx)(d.xu,{ref:A?z:null,children:(0,u.jsx)(m.Z,{isAutoPlay:!!i,cropHeight:t,rootMargin:C,surface:_,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:V,component:0,objectId:f.id,video_id:Q,view:P},accessibilityMaximizeLabel:M._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:M._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:M._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:M._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:M._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:M._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=X?X:1)/(null!=q?q:1),captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:Z,onTimeChange:v,playing:T,poster:F||K,src:null!=ee?ee:[],videoStartTime:o,volume:0,onEnded:J})})}));function C(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const j=(0,r.Z)(T);class P extends n.Component{constructor(...e){super(...e),C(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:i,videosAutoplaying:t}=this.props,{id:n}=i,o=(0,x.X9)(n,t);return this.currentVideoCurrentTime||o||e})),C(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:i,pin:t,setCurrentVideo:n,pauseAutoplay:o,videosAutoplaying:r}=this.props,{id:s,is_promoted:l}=t,a=(0,x.i8)(s,r),d=(0,x.DP)(s,r);e?l?n({pinId:s,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}):d&&n({pinId:s,isPromoted:Boolean(l),currentTime:this.calculateCurrentVideoTime()}):!e&&a&&o({pinId:s,isPromoted:Boolean(l),currentTime:i||this.currentVideoCurrentTime})})),C(this,"handleVideoTimeChange",(e=>{const{pin:i,onTimeChange:t,videosAutoplaying:n}=this.props,{id:o}=i;(0,x.i8)(o,n)&&(this.currentVideoCurrentTime=e.time),t&&t(e)}))}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:i}=e,{appInFocus:t,currentTimeFromPinRep:n,pauseAutoplay:o,pin:r,setCurrentVideo:s,videosAutoplaying:l}=this.props,{id:a,is_promoted:d}=r,u=(0,x.i8)(a,l);t!==i&&!t&&u?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:a,isPromoted:Boolean(d),currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&t&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:a,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:i,pin:t,videosAutoplaying:n}=this.props,{id:o,is_promoted:r}=t;(0,x.i8)(o,n)&&i({pinId:o,isPromoted:Boolean(r),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:i,pin:t,surface:n,videosAutoplaying:o,viewParameter:r,viewType:l,highResOnly:a,lowResOnly:d,onError:c,onLoad:h,saved:p,inAdsDesktopVideoExperiment:g,isExperimentalPinRep:m,rootMargin:v}=this.props,{id:y}=t,f=(0,x.X9)(y,o),b=(0,x.i8)(y,o)&&i,_=s.K.fromGlobalContext(),{anyEnabled:w}=_.experiments.getWithActivation("web_mqtt_finddomnode_deprecation");return w?(0,u.jsx)(T,{cropHeight:e,rootMargin:v,currentTime:f,inAdsDesktopVideoExperiment:g,isAutoplay:i,viewParameter:r,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:t,surface:n,playing:b,trackFullVisible:!1,highResOnly:a,lowResOnly:d,onError:c,onLoad:h,saved:p,isExperimentalPinRep:m,inVisibilityChangedHookExperiment:w}):(0,u.jsx)(j,{cropHeight:e,rootMargin:v,currentTime:f,inAdsDesktopVideoExperiment:g,isAutoplay:i,viewParameter:r,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:t,surface:n,playing:b,trackFullVisible:!1,highResOnly:a,lowResOnly:d,onError:c,onLoad:h,saved:p,isExperimentalPinRep:m})}}const V=(0,o.connect)((e=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}})),(e=>({pauseAutoplay:i=>e((0,_.Dm)(i)),setCurrentVideo:i=>e((0,_.jt)(i))})))(P)},517458:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(601750),o=t(784655);function r(e){const{access:i,attribution:t,embed:r,is_eligible_for_web_closeup:s,rich_summary:l,sponsorship:a,story_pin_data_id:d,videos:u}=e,c={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(c.isLeadPin=!0),(0,n.Z)(e)&&(c.isCarousel=!0),s&&(c.isOneTap=!0),(0,o.iR)(u)&&(c.isVideo=!0);const h=r||t&&t.embed||null;return h&&"gif"===h.type&&(c.isGif=!0),l&&"product"===l.type_name&&(c.isProduct=!0),l&&"recipe"===l.type_name&&(c.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(c.isPromoted=!0),(i||[]).includes("write")&&(c.isOwnPin=!0),d&&(c.isStoryPin=!0),a&&(c.isSponsored=!0),c}},204891:(e,i,t)=>{t.d(i,{cB:()=>o,bD:()=>r,u_:()=>s,H:()=>l,a4:()=>a,l7:()=>d,bz:()=>u,Y_:()=>c,Nw:()=>h,DY:()=>p,nx:()=>g,d9:()=>m,RJ:()=>v});var n=t(280313);t(883119);const o=408,r=16,s=2*(o+r),l=766,a=1.532,d=45,u=e=>{const{article_creator_user:i,display_type:t,feed_source:o,header_pin_id:r,id:s,title:l,video_pin:a}=e;switch(t){case 0:case 1:return l?(0,n.T7)(o,l,s):"";case 8:return null!=i&&i.username?`/${encodeURIComponent(i.username)}/`:"";case 3:case 6:return r?`/pin/${r}/`:"";case 2:return null!=a&&a.id?`/pin/${a.id}/`:"";default:return""}},c=e=>"todayarticle"===e.type,h=e=>"story"===(null==e?void 0:e.type)&&"today_tab_footer"===(null==e?void 0:e.story_type),p=e=>"story"===(null==e?void 0:e.type)&&("today_tab_header"===(null==e?void 0:e.story_type)||"today_tab_date_header"===(null==e?void 0:e.story_type)),g=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),m=e=>{var i,t;return(null!==(i=e.height)&&void 0!==i?i:1)/(null!==(t=e.width)&&void 0!==t?t:1)},x=["736x","236x","170x"],v=e=>{for(const t of x){var i;if(null!==(i=e.images)&&void 0!==i&&i[t])return e.images[t]}return null}},329485:(e,i,t)=>{t.d(i,{Z:()=>x});var n=t(667294),o=t(40142),r=t(269935),s=t(589444),l=t(289335),a=t(771400),d=t(174523),u=t(174683),c=t(883119),h=t(535258),p=t(785893);function g(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class m extends n.Component{constructor(...e){super(...e),g(this,"state",{showBadge:!0}),g(this,"renderBadge",(()=>{const{carouselData:e,isCloseup:i,showCarouselBadge:t}=this.props;if(!e)return null;const{showBadge:n}=this.state,{carousel_slots:o,index:r}=e,s=n?.8:0;return!i&&t?(0,p.jsx)(c.xu,{alignItems:"center",color:"darkGray",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new c.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:s,transition:"opacity .3s"}},children:(0,p.jsx)(c.xv,{color:"white",children:`${(null!=r?r:0)+1}/${(null!=o?o:[]).length}`})}):null}))}componentDidMount(){this.hideBadgeTimeout=setTimeout((()=>this.setState({showBadge:!1})),3e3)}componentDidUpdate(e){const{showBadge:i}=this.state,{carouselData:t}=e,{carouselData:n}=this.props;if(!t||!n)return;const{index:o}=t,{index:r}=n;i&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((()=>this.setState({showBadge:!1})),3e3)),o!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:i,closeupHeight:t,closeupWidth:n=0,widthRatio:o=1,cropHeight:s,cropWidth:d,carouselData:g,disableTransition:m,highResOnly:x,lowResOnly:v,onError:y,onLoad:f,pinId:b,isEditMode:_,isDenseView:w}=this.props;if(!g)return null;if(o>1||o<0)throw new Error("widthRatio should be between 0 and 1 inclusive");const{carousel_slots:T=[],index:C=0}=g,j=void 0!==i?i:C,P=!e&&d,{images:V}=T[j];let E;E=e?n:P||(x?474:w?h.Lo:h.xf);const I=Math.floor(E*o),A=(null==V?void 0:V["236x"])||{},R=s||A.height||0,L=d||A.width||236,M=t||R/L*I,O=(e=>{const i=e.reduce(((e,i)=>{var t;const{images:n}=i,{height:o=1,width:r=1}=(null==n?void 0:n["736x"])||(null==n?void 0:n["236x"])||{},s=`${r}x${o}`,l=(null===(t=e[s])||void 0===t?void 0:t.times)||0;return{...e,[s]:{imageHeight:o,imageWidth:r,times:l+1}}}),{}),t=Object.keys(i).reduce(((e,t)=>i[t].times>e.times?i[t]:e),{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(i).length>1?{imageHeight:t.imageHeight,imageWidth:t.imageWidth}:null})(T);return(0,p.jsxs)(c.xu,{height:M,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:a.Ml,children:[!_&&this.renderBadge(),(0,p.jsx)(r.Z,{trackCarousel:!0,impressionType:"Pin",loggingId:b,slotIndex:C,viewParameter:72,viewType:1,children:(0,p.jsx)(c.xu,{position:"absolute",height:M,width:I,overflow:"hidden"})},`carousel-impression-key-${j}`),(0,p.jsx)(c.xu,{width:I*T.length,dangerouslySetInlineStyle:{__style:{transition:m?"":"left .3s",left:(0,u.rJ)(T.length,I,E,j)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:T.map(((i,t)=>{if(e){const e=t===T.length-1;return(({pinId:e,slot:i,slotIndex:t,onError:n,onLoad:o,widthToUse:r,gap:s},a)=>{const{url:d,width:h,height:g}=(0,l.Z)(i)||{},{details:m=""}=i,x=(0,u.GH)(m,a,t);return(0,p.jsx)(c.xu,{"data-test-id":"carousel-slot-container",width:r,height:"100%",marginEnd:s,children:(0,p.jsx)(c.zd,{height:"100%",wash:!0,children:(0,p.jsx)(c.Ee,{alt:x,fit:"contain",naturalHeight:null!=g?g:1,naturalWidth:null!=h?h:1,onError:n,onLoad:o,src:null!=d?d:""})})},`carousel-slot-${e}-${t}`)})({pinId:b,slot:i,slotIndex:t,onError:y,onLoad:f,widthToUse:I,gap:I<E&&!e?1:0},this.props.i18n)}return((e,i,t,n,o,r,s,l,a,d,h,g,m,x,v)=>{var y,f,b;const{images:_,details:w=""}=i;let T,C=236,j=236,P="";var V,E,I,A,R,L,M,O;if(o?(C=474,j=_&&Math.min(C/.8,C/((null!==(V=null===(E=_["564x"])||void 0===E?void 0:E.width)&&void 0!==V?V:1)/(null!==(I=null===(A=_["564x"])||void 0===A?void 0:A.height)&&void 0!==I?I:1))),P=_&&(null===(R=_["564x"])||void 0===R?void 0:R.url)):_&&_["736x"]?(j=_&&_["736x"]&&_["736x"].height,C=_&&_["736x"]&&_["736x"].width,P=_&&_["736x"]&&_["736x"].url):_&&_["236x"]&&(j=_&&_["236x"]&&_["236x"].height,C=_&&_["236x"]&&_["236x"].width,P=_&&_["236x"]&&_["236x"].url),m&&x&&(j=Math.min(m*x,null!==(L=j)&&void 0!==L?L:1)),r)T=`${null!==(M=null==_||null===(O=_["236x"])||void 0===O?void 0:O.url)&&void 0!==M?M:""} 1x`;else if(o){var S,k;T=`${null!==(S=null==_||null===(k=_["564x"])||void 0===k?void 0:k.url)&&void 0!==S?S:""} 1x`}else{var B,H,$;T=[(null==_?void 0:_["474x"])&&`${null!==(B=_["474x"].url)&&void 0!==B?B:""} 2x`,(null==_?void 0:_["736x"])&&`${null!==(H=_["736x"].url)&&void 0!==H?H:""} 3x`,(null==_?void 0:_.orig)&&`${null!==($=_.orig.url)&&void 0!==$?$:""} 4x`].filter(Boolean).join(", ")}const D=(0,u.GH)(w,e,n),Z=g?void 0:j,z=g?void 0:C,W=!!v,{boxHeight:F,boxWidth:U}=W?{boxHeight:null==v?void 0:v.imageHeight,boxWidth:null==v?void 0:v.imageWidth}:{boxHeight:Z,boxWidth:z};return(0,p.jsx)(c.xu,{"data-test-id":"carousel-slot-container",height:F,width:U,children:(0,p.jsx)(c.xu,{height:g?h:void 0,width:g||void 0,children:(0,p.jsx)(c.Ee,{alt:D,fit:g?"cover":"none",naturalHeight:null!==(y=j)&&void 0!==y?y:1,naturalWidth:null!==(f=C)&&void 0!==f?f:1,onError:s,onLoad:l,src:null!==(b=P)&&void 0!==b?b:"",srcSet:T})})},`carousel-slot-${t}-${n}`)})(this.props.i18n,i,b,t,x,v,y,f,0,0,s,d,M,I,O)}))})]})}}g(m,"defaultProps",{showCarouselBadge:!0});const x=(0,o.connect)((({pins:e},{pinId:i,pin:t})=>{const n=e[i]||t;return{carouselData:(0,s.Z)({pin:n,shouldUnifyImageSizes:!0})}}),(()=>({})))((function(e){const i=(0,d.ZP)();return(0,p.jsx)(m,{...e,i18n:i})}))},174683:(e,i,t)=>{t.d(i,{rJ:()=>n,GH:()=>o,gA:()=>r});const n=(e,i,t,n)=>{if(t===i)return n*i*-1;if(0===n)return 0;const o=Math.floor(.5*(t-i));return n===e-1?n*i*-1+2*o:n*i*-1+o},o=(e,i,t)=>e||`${i._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${t}`,r=({lowResOnly:e,highResOnly:i,slot:t})=>{var n,o,r;const{images:s}=t;var l,a,d,u;return e?`${null!==(l=null==s||null===(a=s["236x"])||void 0===a?void 0:a.url)&&void 0!==l?l:""} 1x`:i?`${null!==(d=null==s||null===(u=s["564x"])||void 0===u?void 0:u.url)&&void 0!==d?d:""} 1x`:[(null==s?void 0:s["474x"])&&`${null!==(n=s["474x"].url)&&void 0!==n?n:""} 2x`,(null==s?void 0:s["736x"])&&`${null!==(o=s["736x"].url)&&void 0!==o?o:""} 3x`,(null==s?void 0:s.orig)&&`${null!==(r=s.orig.url)&&void 0!==r?r:""} 4x`].filter(Boolean).join(", ")}},614422:(e,i,t)=>{function n(e){var i;return((((null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[])[0]||{}).label_info||{}).labels||[]}t.d(i,{Z:()=>n})},550242:(e,i,t)=>{t.d(i,{K9:()=>n,JD:()=>o});const n=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),o=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},289335:(e,i,t)=>{function n(e){const{images:i={}}=e;return i["564x"]&&i["564x"].url?i["564x"]:i["736x"]&&i["736x"].url?i["736x"]:i["474x"]&&i["474x"].url?i["474x"]:i["236x"]&&i["236x"].url?i["236x"]:null}t.d(i,{Z:()=>n})},601750:(e,i,t)=>{function n(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}t.d(i,{Z:()=>n})},965035:(e,i,t)=>{function n(e){const i=Math.round(e/1e3),t=i%60;return Math.floor(i/60)+":"+(t<10?"0":"")+t}t.d(i,{Z:()=>n})},583704:(e,i,t)=>{t.d(i,{_Y:()=>n,xZ:()=>r,qe:()=>s,HP:()=>l});const n=(e,i)=>e.length===i.length&&e.every(((e,t)=>function(e,i){if("object"==typeof e&&"object"==typeof i){const t=Object.keys(e),n=Object.keys(i);return t.length===n.length&&t.every((t=>e[t]===i[t]))}return e===i}(e,i[t]))),o=(e,i)=>e.length===i.length&&e.every(((e,t)=>e===i[t])),r=(e,i=o)=>t=>{const n=[];return function(...o){const r=this,s=n.find((e=>e.context===r&&i(e.args,o)));if(s)return s.result;const l={context:r,args:o,result:t.apply(this,o)};return n.push(l),e&&n.length>e&&n.shift(),l.result}},s=r(1),l=r()}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92701-71e637191aa16dca.mjs.map